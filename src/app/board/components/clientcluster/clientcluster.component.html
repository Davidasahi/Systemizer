<div
#anchorRef
[class.side-menu]="isReadOnly"
[style.left.px]="LogicClientCluster.options.X "
[style.top.px]="LogicClientCluster.options.Y"
>
    <template #conn></template>
    <div class="img-container" (mousedown)="handleMousedown( $event )" (touchstart)="handleMousedown($event)"
    (click)="handleClick($event)">
        <img src="./assets/clientcluster.svg">
    </div>    
</div>
<div *ngIf="isReadOnly" 
[style.left.px]="LogicClientCluster.options.X "
[style.top.px]="LogicClientCluster.options.Y" class="read-only-controls">
    <button *ngIf="!LogicClientCluster.isSendingData" (click)="LogicClientCluster.startSendingData(); cdRef.detectChanges()">
        <img src="./assets/send.svg">
    </button>
    <button *ngIf="LogicClientCluster.isSendingData" (click)="LogicClientCluster.stopSendingData(); cdRef.detectChanges()">
        <img src="./assets/send.svg" style="transform: rotateY(180deg);">
    </button>
</div>
<div style="display:none">
    <div #options>
        <div>
            <span class="property-name endpoint-title">Output rate: <info-tooltip [Message]="'Changes the speed at which data is sent.'"></info-tooltip></span>
            <div class="endpoint-protocol">
                <mat-slider
                    thumbLabel
                    [(ngModel)]="LogicClientCluster.options.outputRate"
                    tickInterval="1"
                    step="1"
                    min="1"
                    max="10"
                    (change)="afterChange()"
                    aria-label="units">
                </mat-slider>
                <div class="mat-slider-description" 
                [class.low]="LogicClientCluster.options.outputRate < 4" 
                [class.medium]="LogicClientCluster.options.outputRate < 8 && LogicClientCluster.options.outputRate >= 4" 
                [class.high]="LogicClientCluster.options.outputRate >= 8">
                    <span>Low</span>
                    <span>Medium</span>
                    <span>High</span>
                </div>
            </div>
        </div>
    </div>
    <div #actions>
        <div class="options-actions">
            <div class="actions-container">
                <button *ngIf="!LogicClientCluster.isSendingData"
                 (click)="LogicClientCluster.startSendingData()">Start sending data</button>
                <button *ngIf="LogicClientCluster.isSendingData"
                 (click)="LogicClientCluster.stopSendingData()">Stop sending data</button>
            </div>
        </div>
    </div>
</div>